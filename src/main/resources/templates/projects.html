<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Expires" content="Sat, 01 Dec 2001 00:00:00 GMT" />

    <title>DoIt! | Projects</title>

    <link th:href="@{css/style.css}" rel="stylesheet" />
    <link th:href="@{css/bootstrap.min.css}" rel="stylesheet" />


    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->

</head>

<body>
<div class="navigation">
    <div class = "top-navigation">
    <div class="welcome">
        <p style="display:inline">Welcome </p><p style="display:inline" th:text="${username}"></p>
        <img class="user" src="/images/user.png"/>
    </div>
    <div class="logout">
        <form action="/login">
            <input type="submit" value="Log Out"/>
        </form>
    </div>
    </div>

    <ul>
        <img class="logo" src="../images/logo2.png" title="&quot;Do It Logo&quot;"/>
        <li><img class="navigation-sprite" src="/images/sidebar/dashboard.png"/><a href="/dashboard">Dashboard</a></li>
        <li><img class="navigation-sprite" src="/images/sidebar/projectactive.png"/><a class ="active" href="/projects">Projects</a></li>
        <li><img class="navigation-sprite" src="/images/sidebar/sprint.png"/><a href="/sprints">Sprints</a></li>
        <li><img class="navigation-sprite" src="/images/sidebar/task.png"/><a  href="/tasks">Tasks</a></li>
        <li><img class="navigation-sprite" src="/images/sidebar/team.png"/><a href="/teams">Teams</a></li>
    </ul>
</div>

<div class="main-body">

    <div id="project" class="header-box">
        <h1>Projects</h1>
    </div>


    <!--

    ================MY PROJECTS==================

    Viewable to user
    -->
    <div class="user">
<div class="container invisible-at-first" id="homeDiv">
    <div class="title-box">
        <h2>My Projects</h2>
    </div>
</div>

<div class = "container-box">
    <div class='new-buttons'>

        <form action="/new-project">
            <input type="submit" value="New Project"/>
        </form>

    </div>
<div class="container text-center" id="projectsDiv">
    <hr />
    <div class="table-responsive">
        <table class='table table-striped table-responsive text-left'>
            <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Description</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>


            </tr>
            </thead>
            <tbody>
            <tr th:each="project : ${projects}">
            <tr>
                <td th:text="${project.projectID}">1</td>
                <td th:text="${project.title}">1</td>
                <td th:text="${project.description}">1</td>
                <td th:text="${project.start_date}">1</td>
                <td th:text="${project.end_date}">1</td>
                <td th:text="${project.status}" th:class="${project.status}=='pending' ? 'yellow' : (${project.status}=='overdue' ? 'red' : (${project.status}=='completed' ? 'green' : 'white'))">1</td>
            </tr>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</div>
    </div>

    <!--

    ================ALL PROJECTS==================

    Viewable to admin
    -->
    <div class="admin" th:if = "${isAdmin}">
    <div class="container invisible-at-first" id="homeDiv">
        <div class="title-box">
            <h2>All Projects</h2>
        </div>
    </div>

    <div class = "container-box">

        <div class='new-buttons'>

            <form action="/new-project">
                <input type="submit" value="New Project"/>
            </form>

        </div>

        <div class="container text-center" id="projectsDiv">
            <hr />
            <div class="table-responsive">
                <table class='table table-responsive table-striped text-left'>
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Status</th>
                        <th> </th>
                        <th> </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="project : ${projects}">
                    <tr>
                        <td th:text="${project.projectID}">1</td>
                        <td th:text="${project.title}">1</td>
                        <td th:text="${project.description}">1</td>
                        <td th:text="${project.start_date}">1</td>
                        <td th:text="${project.end_date}">1</td>
                        <td th:text="${project.status}" th:class="${project.status}=='pending' ? 'yellow' : (${project.status}=='overdue' ? 'red' : (${project.status}=='completed' ? 'green' : 'white'))">1</td>
                        <td><a th:href="@{update-project(id=${project.projectID})}"><span class="glyphicon glyphicon-pencil"></span></a></td>
                        <td><a th:href="@{delete-project(id=${project.projectID})}"><span class="glyphicon glyphicon-trash"></span></a></td>
                    </tr>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</div>



<!--<script th:src="@{js/jquery-1.11.1.min.js}"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />

<script src="bootstrap.min.js"></script>
<script th:src="@{js/bootstrap.min.js}"></script>
</body>
<footer>
    <p>&copy; Copyright 2018. DoIt Ltd. All rights reserved. DoIt is a registered trademark. No content may be downloaded for commercial or non-commercial usage.</p>
</footer>
</html>